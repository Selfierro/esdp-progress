{% extends 'base.html' %}
{% load static %}
{% block head %}
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
          rel="stylesheet">
{% endblock %}
{% block content %}

    {#    блок о нас#}
    <div class="about_us">
        <div class="container">
            <div class="about_us_content">
                {{page.text_primary|safe}}
            </div>
        </div>
    </div>

    {#    блок карусели с преподавателями#}
    <div class="team">
        <div class="container">
            {{page.text_secondary|safe}}
            <div id="carouselExample" class="carousel slide">
                <div class="teacher_carousel">
                    <div class="carousel-inner">
                         <div class="carousel-item active">
                            <div class="d-flex">
                                {% for teacher in teachers %}
                                    <div class="card teacher_card rounded-4 mx-2">
                                        {% if teacher.avatar %}
                                            <div class="rounded-4" style="height: 250px;
                                                    background-image: url({{ teacher.avatar.url }});
                                                    background-size: 230px;
                                                    background-repeat: no-repeat">
                                            </div>
                                        {% else %}
                                            <img src="{% static 'images/profile.png' %}"
                                                 class="card-img-top rounded-top-4"
                                                 alt="...">
                                        {% endif %}
                                        <div class="card-body" style="height: 150px">
                                            <h5>{{ teacher.first_name }} {{ teacher.last_name }}</h5>
                                            {% for course in teacher.courses_taught.all %}
                                                <p>Преподает: {{ course.course_name }}</p>
                                            {% endfor %}
                                        </div>
                                    </div>
                                {% endfor %}
                            </div>
                        </div> 
                        {% for teacher_s in teachers1 %}
                            {% if teacher_s.count %}
                                <div class="carousel-item {% if forloop.counter == 0 %}active{% endif %}">
                                    <div class="d-flex">
                                        {% for teacher in teacher_s %}
                                            <div class="card teacher_card rounded-4 mx-2">
                                                {% if teacher.avatar %}
                                                    <div class="rounded-4" style="height: 250px;
                                                            background-image: url({{ teacher.avatar.url }});
                                                            background-size: 230px;
                                                            background-repeat: no-repeat">
                                                    </div>
                                                {% else %}
                                                    <div class="rounded-4" style="height: 250px;
                                                            background-image: url({% static 'images/profile.png' %});
                                                            background-size: 230px;
                                                            background-repeat: no-repeat">
                                                    </div>
{#                                                    <img src="{% static 'images/profile.png' %}"#}
{#                                                         class="card-img-top rounded-top-4"#}
{#                                                         alt="...">#}
                                                {% endif %}
                                                <div class="card-body" style="height: 150px">
                                                    <h5>{{ teacher.first_name }} {{ teacher.last_name }}</h5>
                                                    {% for course in teacher.courses_taught.all %}
                                                        <p>Преподает: {{ course.course_name }}</p>
                                                    {% endfor %}
                                                </div>
                                            </div>
                                        {% endfor %}
                                    </div>
                                </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                    {#                блок кноки пролисывать карусель#}
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample"
                            data-bs-slide="prev">
                                <span class="carousel-control-prev-icon rounded-4 btn btn-warning"
                                      aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExample"
                            data-bs-slide="next">
                                <span class="carousel-control-next-icon rounded-4 btn btn-warning"
                                      aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}